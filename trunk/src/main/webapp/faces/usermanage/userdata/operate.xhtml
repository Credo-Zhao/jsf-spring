<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jstl/core">
	<p:dialog header="修改用户信息" widgetVar="userdataDlgVar" showEffect="fade" 
		hideEffect="fade" modal="true" resizable="false" id="userdataDlgId">
		<h:form id="userdataFormId" prependId="false">
			<p:messages id="userdataMsgId" showDetail="true" />
			<p:growl id="userdataGrowlId" life="5000"/>
			<h:panelGrid columns="4"
				columnClasses="column1,column2,column1,column2">
				
				<h:outputText value="用户帐号：" />
				<p:inputText value="#{userinfoBean.userinfo.account}" disabled="#{userinfoBean.isModify}"/>
				
				<h:outputText value="用户密码：" />
				<p:inputText value="#{userinfoBean.userinfo.password}"/>
				
				<h:outputText value="真实姓名：" />
				<p:inputText value="#{userinfoBean.userinfo.realname}"/>
				
				<h:outputText value="用户年龄：" />
				<p:inputText value="#{userinfoBean.userinfo.age}"/>
				
				<h:outputText value="电子邮箱：" />
				<p:inputText value="#{userinfoBean.userinfo.email}"/>
				
				<h:outputText value="用户地址：" />
				<p:inputText value="#{userinfoBean.userinfo.address}" />
				
				<h:outputText value="用户性别：" />
				<p:selectOneRadio value="#{userinfoBean.sex}">
					<f:selectItem itemLabel="男" itemValue="男" />
					<f:selectItem itemLabel="女" itemValue="女" />
				</p:selectOneRadio>

				<h:outputText value="是否有效：" />
				<p:selectOneRadio value="#{userinfoBean.usable}">
					<f:selectItem itemLabel="可用" itemValue="Y" />
					<f:selectItem itemLabel="禁用" itemValue="N" />
				</p:selectOneRadio>

			</h:panelGrid>
				
			<p:spacer width="10px" height="10px"></p:spacer>

			<div align="center">
				<p:commandButton value="修改"  icon="ui-icon ui-icon-check"  style="margin-right:5px"  rendered="#{userinfoBean.isModify}" 
					actionListener="#{userinfoBean.sumbitDlgData()}"   
					oncomplete="aboutMeRequest(xhr, status, args);"  
					update=":userinfoFormId,:userdataFormId"  />
				<p:commandButton value="添加"  icon="ui-icon ui-icon-check"  style="margin-right:5px"  rendered="#{!userinfoBean.isModify}"  
					actionListener="#{userinfoBean.sumbitDlgData()}"   
					oncomplete="aboutMeRequest(xhr, status, args);"  
					update=":userinfoFormId,:userdataFormId"  />
				<p:commandButton type="button" value="取消"  onclick="userdataDlgVar.hide()"  icon="ui-icon ui-icon-cancel" />
			</div>

		</h:form>
		<script type="text/javascript">
			function aboutMeRequest(xhr, status, args) {
				if (args.aboutMeAddInfo == "Y") {
					userdataDlgVar.hide();
				}
			}
		</script>
	</p:dialog>
</ui:composition>
